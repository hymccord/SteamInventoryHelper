var lowestPriceWithFeeRegExp=/<span class="market_listing_price market_listing_price_with_fee">\s*(((?!Sold).)*?)\s*<\/span>/i,lowestPriceWithoutFeeRegExp=/<span class="market_listing_price market_listing_price_without_fee">\s*(((?!Sold).)*?)\s*<\/span>/i,insGemExp=/<span style="font-size: 18px; color: rgb\(255, 255, 255\)">(((?!:).)*?): \d+<\/span><br><span style="font-size: 12px">Inscribed Gem<\/span>/i,kinGemExp=/<span style="font-size: 18px; color: rgb\(255, 255, 255\)">(((?!<).)*?)<\/span><br><span style="font-size: 12px">Kinetic Gem<\/span>/i,priGemExp=/<span style="font-size: 18px; color: rgb\(\d+, \d+, \d+\)">(((?!<).)*?)<\/span><br><span style="font-size: 12px">Prismatic Gem<\/span>/i,ethGemExp=/<span style="font-size: 18px; color: rgb\(255, 255, 255\)">(((?!<).)*?)<\/span><br><span style="font-size: 12px">Ethereal Gem<\/span>/i,corGemExp=/<span style="font-size: 18px; color: rgb\(255, 255, 255\)">(((?!:).)*?): \d+<\/span><br><span style="font-size: 12px">Foulfell Shard<\/span>/i,masGemExp=/<span style="font-size: 18px; color: rgb\(255, 255, 255\)">(((?!:).)*?): \d+<\/span><br><span style="font-size: 12px">Rune of the Duelist Indomitable<\/span>/i,cachePrices={},hItem=null,currencyId=1,countryCode="",UpdateTotal=null,mediumPrice=0,mediumName="",getMediumPrice=function(n){var t=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid="+n.appid+"&country="+countryCode+"&currency="+currencyId+"&market_hash_name="+encodeURIComponent(n.market_hash_name);mediumName=n.market_hash_name;$J.ajax({method:"GET",url:t,success:function(n){n.success&&(mediumPrice=n.lowest_price)}})},getLowestPriceHandler,clearCachePrices;typeof BShouldSuppressFades=="undefined"&&(BShouldSuppressFades=function(){return!1});getLowestPriceHandler=function(n,t,i){var r=n,w=r.appid,a,o,c,u,e,f,s,h,l;if(typeof r.market_hash_name!="undefined"){if(a=r.appid+"/"+r.market_hash_name+"/",o=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid="+r.appid+"&country="+countryCode+"&currency="+currencyId+"&market_hash_name="+encodeURIComponent(r.market_hash_name),cachePrices[o]&&cachePrices[o].nofeePrice&&(r.nofeePrice=cachePrices[o].nofeePrice,r.lowestPrice=cachePrices[o].lowestPrice),r.gemPrices||(r.gemPrices={}),r.descriptions&&r.type!=="Rare Inscribed Gem")for(c=0;c<r.descriptions.length;c++)if(u=r.descriptions[c],u.type=="html"||!(u.value.indexOf("Inscribed Gem")<0)||!(u.value.indexOf("Kinetic Gem")<0)||!(u.value.indexOf("Prismatic Gem")<0)||!(u.value.indexOf("Ethereal Gem")<0)){while(e=insGemExp.exec(u.value)){if(f=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid=570&country="+countryCode+"&currency="+currencyId+"&market_hash_name=Inscribed "+e[1],s=e[0].replace('<span style="font-size: 12px">Inscribed Gem<\/span>','<a href="'+f+'">Inscribed Gem (Loading)<\/a>'),cachePrices[f]&&cachePrices[f].lowestPrice){r.gemPrices[f]=cachePrices[f];u.value=u.value.replace('<span style="font-size: 12px">Inscribed Gem<\/span>','<a href="'+this.url+'" target="_blank" title="'+cachePrices[f].nofeePrice+'">Inscribed Gem ('+cachePrices[f].lowestPrice+")<\/a>");r===hItem&&(h=$(t+"_item_descriptors"),PopulateDescriptions(h,r.descriptions));continue}u.value=u.value.replace(e[0],s);$J.ajax({method:"GET",url:f,success:function(n){var i=0,f=0,e;n.success?(r.gemPrices[this.url]=cachePrices[this.url]={},r.gemPrices[this.url].lowestPrice=cachePrices[this.url].lowestPrice=i=n.lowest_price||"Can't get price",r.gemPrices[this.url].nofeePrice=cachePrices[this.url].nofeePrice=f=n.median_price||"Can't get price",u.value=u.value.replace('<a href="'+this.url+'">Inscribed Gem (Loading)<\/a>','<a href="'+this.url+'" target="_blank" title="'+f+'">Inscribed Gem ('+i+")<\/a>"),r===hItem&&(e=$(t+"_item_descriptors"),PopulateDescriptions(e,r.descriptions)),UpdateTotal&&UpdateTotal(r)):u.value=u.value.replace('<a href="'+this.url+'">Inscribed Gem (Loading)<\/a>','<span style="font-size: 12px">Inscribed Gem<\/span>')},error:function(){u.value=u.value.replace('<a href="'+this.url+'">Inscribed Gem (Loading)<\/a>','<span style="font-size: 12px">Inscribed Gem<\/span>')}})}while(e=kinGemExp.exec(u.value)){if(f=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid=570&country="+countryCode+"&currency="+currencyId+"&market_hash_name=Kinetic: "+e[1],s=e[0].replace('<span style="font-size: 12px">Kinetic Gem<\/span>','<a href="'+f+'">Kinetic Gem (Loading)<\/a>'),cachePrices[f]&&cachePrices[f].lowestPrice){r.gemPrices[f]=cachePrices[f];u.value=u.value.replace('<span style="font-size: 12px">Kinetic Gem<\/span>','<a href="'+this.url+'" target="_blank" title="'+cachePrices[f].nofeePrice+'">Kinetic Gem ('+cachePrices[f].lowestPrice+")<\/a>");r===hItem&&(h=$(t+"_item_descriptors"),PopulateDescriptions(h,r.descriptions));continue}u.value=u.value.replace(e[0],s);$J.ajax({method:"GET",url:f,success:function(n){var i=0,f=0,e;n.success?(r.gemPrices[this.url]=cachePrices[this.url]={},r.gemPrices[this.url].lowestPrice=cachePrices[this.url].lowestPrice=i=n.lowest_price||"Can't get price",r.gemPrices[this.url].nofeePrice=cachePrices[this.url].nofeePrice=f=n.median_price||"Can't get price",u.value=u.value.replace('<a href="'+this.url+'">Kinetic Gem (Loading)<\/a>','<a href="'+this.url+'" target="_blank" title="'+f+'">Kinetic Gem ('+i+")<\/a>"),r===hItem&&(e=$(t+"_item_descriptors"),PopulateDescriptions(e,r.descriptions)),UpdateTotal&&UpdateTotal(r)):u.value=u.value.replace('<a href="'+this.url+'">Kinetic Gem (Loading)<\/a>','<span style="font-size: 12px">Kinetic Gem<\/span>')},error:function(){u.value=u.value.replace('<a href="'+this.url+'">Kinetic Gem (Loading)<\/a>','<span style="font-size: 12px">Kinetic Gem<\/span>')}})}while(e=masGemExp.exec(u.value))f=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid=570&country="+countryCode+"&currency="+currencyId+"&market_hash_name=Rune of the Duelist Indomitable",s=e[0].replace('<span style="font-size: 12px">Rune of the Duelist Indomitable<\/span>','<a href="'+f+'">Rune of the Duelist Indomitable (Loading)<\/a>'),u.value=u.value.replace(e[0],s),$J.ajax({method:"GET",url:f,success:function(n){var i=0,f=0,e;n.success?(r.gemPrices[this.url]=cachePrices[this.url]={},r.gemPrices[this.url].lowestPrice=cachePrices[this.url].lowestPrice=i=n.lowest_price||"Can't get price",r.gemPrices[this.url].nofeePrice=cachePrices[this.url].nofeePrice=f=n.median_price||"Can't get price",u.value=u.value.replace('<a href="'+this.url+'">Rune of the Duelist Indomitable (Loading)<\/a>','<a href="'+this.url+'" target="_blank" title="'+f+'">Rune of the Duelist Indomitable ('+i+")<\/a>"),r===hItem&&(e=$(t+"_item_descriptors"),PopulateDescriptions(e,r.descriptions)),UpdateTotal&&UpdateTotal(r)):u.value=u.value.replace('<a href="'+this.url+'">Rune of the Duelist Indomitable (Loading)<\/a>','<span style="font-size: 12px">Rune of the Duelist Indomitable<\/span>')},error:function(){u.value=u.value.replace('<a href="'+this.url+'">Rune of the Duelist Indomitable (Loading)<\/a>','<span style="font-size: 12px">Rune of the Duelist Indomitable<\/span>')}});while(e=corGemExp.exec(u.value))f=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid=570&country="+countryCode+"&currency="+currencyId+"&market_hash_name=Foulfell Shard",s=e[0].replace('<span style="font-size: 12px">Foulfell Shard<\/span>','<a href="'+f+'">Foulfell Shard (Loading)<\/a>'),u.value=u.value.replace(e[0],s),$J.ajax({method:"GET",url:f,success:function(n){var i=0,f=0,e;n.success?(r.gemPrices[this.url]=cachePrices[this.url]={},r.gemPrices[this.url].lowestPrice=cachePrices[this.url].lowestPrice=i=n.lowest_price||"Can't get price",r.gemPrices[this.url].nofeePrice=cachePrices[this.url].nofeePrice=f=n.median_price||"Can't get price",u.value=u.value.replace('<a href="'+this.url+'">Foulfell Shard (Loading)<\/a>','<a href="'+this.url+'" target="_blank" title="'+f+'">Foulfell Shard ('+i+")<\/a>"),r===hItem&&(e=$(t+"_item_descriptors"),PopulateDescriptions(e,r.descriptions)),UpdateTotal&&UpdateTotal(r)):u.value=u.value.replace('<a href="'+this.url+'">Foulfell Shard (Loading)<\/a>','<span style="font-size: 12px">Foulfell Shard<\/span>')},error:function(){u.value=u.value.replace('<a href="'+this.url+'">Foulfell Shard (Loading)<\/a>','<span style="font-size: 12px">Foulfell Shard<\/span>')}});while(e=ethGemExp.exec(u.value)){if(f=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid=570&country="+countryCode+"&currency="+currencyId+"&market_hash_name=Ethereal: "+e[1],r.isUnusualCour=!0,s=e[0].replace('<span style="font-size: 12px">Ethereal Gem<\/span>','<a href="'+f+'">Ethereal Gem (Loading)<\/a>'),cachePrices[f]&&cachePrices[f].lowestPrice){r.gemPrices[f]=cachePrices[f];u.value=u.value.replace('<span style="font-size: 12px">Ethereal Gem<\/span>','<a href="'+this.url+'" target="_blank" title="'+cachePrices[f].nofeePrice+'">Ethereal Gem ('+cachePrices[f].lowestPrice+")<\/a>");r===hItem&&(h=$(t+"_item_descriptors"),PopulateDescriptions(h,r.descriptions));continue}u.value=u.value.replace(e[0],s);$J.ajax({method:"GET",url:f,success:function(n){var i=0,f=0,e;n.success?(r.gemPrices[this.url]=cachePrices[this.url]={},r.gemPrices[this.url].lowestPrice=cachePrices[this.url].lowestPrice=i=n.lowest_price||"Can't get price",r.gemPrices[this.url].nofeePrice=cachePrices[this.url].nofeePrice=f=n.median_price||"Can't get price",u.value=u.value.replace('<a href="'+this.url+'">Ethereal Gem (Loading)<\/a>','<a href="'+this.url+'" target="_blank" title="'+f+'">Ethereal Gem ('+i+")<\/a>"),r===hItem&&(e=$(t+"_item_descriptors"),PopulateDescriptions(e,r.descriptions)),UpdateTotal&&UpdateTotal(r)):u.value=u.value.replace('<a href="'+this.url+'">Ethereal Gem (Loading)<\/a>','<span style="font-size: 12px">Ethereal Gem<\/span>')},error:function(){u.value=u.value.replace('<a href="'+this.url+'">Ethereal Gem (Loading)<\/a>','<span style="font-size: 12px">Ethereal Gem<\/span>')}})}while(e=priGemExp.exec(u.value)){if(f=window.location.protocol+"//steamcommunity.com/market/priceoverview/?appid=570&country="+countryCode+"&currency="+currencyId+"&market_hash_name=Prismatic: "+e[1],s=e[0].replace('<span style="font-size: 12px">Prismatic Gem<\/span>','<a href="'+f+'">Prismatic Gem (Loading)<\/a>'),cachePrices[f]&&cachePrices[f].lowestPrice){r.gemPrices[f]=cachePrices[f];u.value=u.value.replace('<span style="font-size: 12px">Prismatic Gem<\/span>','<a href="'+this.url+'" target="_blank" title="'+cachePrices[f].nofeePrice+'">Prismatic Gem ('+cachePrices[f].lowestPrice+")<\/a>");r===hItem&&(h=$(t+"_item_descriptors"),PopulateDescriptions(h,r.descriptions));continue}u.value=u.value.replace(e[0],s);$J.ajax({method:"GET",url:f,success:function(n){var i=0,f=0,e;n.success?(r.gemPrices[this.url]=cachePrices[this.url]={},r.gemPrices[this.url].lowestPrice=cachePrices[this.url].lowestPrice=i=n.lowest_price||"Can't get price",r.gemPrices[this.url].nofeePrice=cachePrices[this.url].nofeePrice=f=n.median_price||"Can't get price",u.value=u.value.replace('<a href="'+this.url+'">Prismatic Gem (Loading)<\/a>','<a href="'+this.url+'" target="_blank" title="'+f+'">Prismatic Gem ('+i+")<\/a>"),r===hItem&&(e=$(t+"_item_descriptors"),PopulateDescriptions(e,r.descriptions)),UpdateTotal&&UpdateTotal(r)):u.value=u.value.replace('<a href="'+this.url+'">Prismatic Gem (Loading)<\/a>','<span style="font-size: 12px">Prismatic Gem<\/span>')},error:function(){u.value=u.value.replace('<a href="'+this.url+'">Ethereal Gem (Loading)<\/a>','<span style="font-size: 12px">Prismatic Gem<\/span>')}})}}if(r.lowestPrice){if(l="<a href='#' target='_blank' title='"+r.nofeePrice+"'>"+r.lowestPrice+"<\/a>",mediumPrice&&r.market_hash_name!==mediumName){var v=parseFloat(getNumber(r.lowestPrice)),y=parseFloat(getNumber(mediumPrice)),p=(v/y).toFixed(2);l+=" ("+p+" "+mediumName+")"}$J("#iprice").html(l);$J("#iprice").find("a").attr("href",o);UpdateTotal&&UpdateTotal(r);i&&i(r);return}$J.ajax({method:"GET",url:o,success:function(n){var t;if(n.success){if(cachePrices[o]={},cachePrices[o].lowestPrice=r.lowestPrice=n.lowest_price||"Can't get price",cachePrices[o].nofeePrice=r.nofeePrice=n.median_price||"Can't get price",r===hItem){if(t="<a href='#' target='_blank' title='"+r.nofeePrice+"'>"+r.lowestPrice+"<\/a>",mediumPrice&&r.market_hash_name!==mediumName){var u=parseFloat(getNumber(r.lowestPrice)),f=parseFloat(getNumber(mediumPrice)),e=(u/f).toFixed(2);t+=" ("+e+" "+mediumName+")"}$J("#iprice").html(t);$J("#iprice").find("a").attr("href",o)}}else cachePrices[o]={},cachePrices[o].lowestPrice=r.lowestPrice="Fail",cachePrices[o].nofeePrice=r.nofeePrice="Fail",r===hItem&&(t="<a href='#' target='_blank' title='"+r.nofeePrice+"'>"+r.lowestPrice+"<\/a>",$J("#iprice").html(t),$J("#iprice").find("a").attr("href",o));UpdateTotal&&UpdateTotal(r);i&&i(r)},error:function(n){n.success||(cachePrices[o]={},cachePrices[o].lowestPrice=r.lowestPrice="Fail",cachePrices[o].nofeePrice=r.nofeePrice="Fail",r===hItem&&($J("#iprice").html("<a href='#' target='_blank' title='"+r.nofeePrice+"'>"+r.lowestPrice+"<\/a>"),$J("#iprice").find("a").attr("href",o)));UpdateTotal&&UpdateTotal(r);i&&i(r)}})}};clearCachePrices=function(){cachePrices={}};$J(function(){if(currencyId=typeof g_rgWalletInfo!="undefined"?g_rgWalletInfo.wallet_currency:1,countryCode=typeof g_rgWalletInfo!="undefined"?g_rgWalletInfo.wallet_country:"US",typeof currency!="undefined"&&window.currency!=""&&(currencyId=window.currency),window.usevector){var n=GetCookie("mediumname"),t=GetCookie("mediumappid");n&&t&&getMediumPrice({market_hash_name:n,appid:t})}BuildHover=function(n,t,i){var tt=t.icon_url_large?t.icon_url_large:t.icon_url,v,h,it,f,e,o,r,c,rt,y,u,l,ut,p,w,b,a,k,s,d,g,nt;if(hItem=t,v="",v=g_bIsTrading?ImageURL(tt,192,192):ImageURL(tt,330,192),h="item_desc_content",t.appid&&(h=h+" app"+t.appid+" context"+t.contextid),$(n+"_content").className=h,$(n+"_item_icon").src=v,$(n+"_item_icon").alt=t.name,it=GetNameForItem(t),$(n+"_item_name").update(it),$J("#iprice").length==0&&$J("#"+n+"_item_name").after('<h2 id="iprice">'),$J("#iprice").html("loading..."),getLowestPriceHandler(t,n),f=$J('div[data-economy-item="'+t.appid+"/"+t.contextid+"/"+t.id+"/"+t.owner+'"]'),f.length==1&&(f=f[0],f.rgItem=t),e=$(n+"_arrow_left"),o=$(n+"_arrow_right"),t.name_color?($(n+"_item_name").style.color="#"+t.name_color,$(n+"_content").parentNode.style.borderColor="#"+t.name_color,e&&(e.style.borderRightColor="#"+t.name_color),o&&(o.style.borderLeftColor="#"+t.name_color)):($(n+"_item_name").style.color="",$(n+"_content").parentNode.style.borderColor="",e&&(e.style.borderRightColor=""),o&&(o.style.borderLeftColor="")),r=$(n+"_fraud_warnings"),r)if(t.fraudwarnings||g_bIsInventoryPage&&t.is_currency){if(r.update(""),t.fraudwarnings)for(c=0;c<t.fraudwarnings.length;c++)u=new Element("div",{"class":"fraud_warning_box"}),rt=new Element("img",{"class":"fraud_warning_image",src:window.location.protocol+"//cdn.steamcommunity.com/public/images/sharedfiles/icons/icon_warning.png"}),u.appendChild(rt),y=new Element("span"),y.update(t.fraudwarnings[c]),u.appendChild(y),r.appendChild(u);g_bIsInventoryPage&&t.is_currency&&(u=new Element("div"),u.update("This amount is private and shown only to you."),r.appendChild(u));r.show()}else r.hide();t.appid&&g_rgAppContextData[t.appid]?(l=g_rgAppContextData[t.appid],$(n+"_game_icon").src=l.icon,$(n+"_game_icon").alt=l.name,$(n+"_game_name").update(l.name),$(n+"_item_type").update(t.type),$(n+"_game_info").show()):$(n+"_game_info").hide();ut=$(n+"_item_descriptors");PopulateDescriptions(ut,t.descriptions);p=$(n+"_item_actions");p&&PopulateActions(p,t.actions,t);w=$(n+"_item_owner_descriptors");w&&PopulateDescriptions(w,t.owner_descriptions);b=$(n+"_item_owner_actions");b&&PopulateActions(b,t.owner_actions,t);a=$(n+"_currency_in_trade");a&&(a.update(""),t.is_currency&&t.parent_currency&&i==UserYou&&(k=i&&i.GetContext(t.appid,t.contextid),s={},s.amount=v_numberformat(t.amount),s.contextname=k?k.name:"",s.currencystyle=t.name_color?"color: #"+t.name_color+";":"",a.update(HoverCurrencyFromTemplate.evaluate(s))));d=$(n+"_item_tags");g=$(n+"_item_tags_content");d&&g&&PopulateTags(d,g,t.tags);nt=$(n+"_item_market_actions");nt&&PopulateMarketActions(nt,t);$(n).builtFor=t;$(n).builtForAmount=t.amount};AddItemHoverToElement=function(n,t){n=$(n);n.observe("mouseover",MouseOverItem.bindAsEventListener(null,UserYou,n,t));n.observe("mouseout",MouseOutItem.bindAsEventListener(null,UserYou,n,t))}});
/*
//# sourceMappingURL=hovermod.script.min.js.map
*/